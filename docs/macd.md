# MACD

标准参数:
DIFF:EMA(CLOSE,12) - EMA(CLOSE,26),COLORBLACK;
DEA:EMA(DIFF,9),COLORYELLOW;
MACD:2*(DIFF-DEA)*100 ;

# 敏感参数 (推荐用于跟踪股价走势)
DIFF:EMA(CLOSE,8) - EMA(CLOSE,17),COLORBLACK;
DEA:EMA(DIFF,9),COLORYELLOW;
MACD:2*(DIFF-DEA)*100 ;

# 原始参数 (文档中记录的复杂版本)
DIFF:EMA(CLOSE,8) - EMA(CLOSE,26),COLORBLACK;
DIFF1:EMA(CLOSE,16) - EMA(CLOSE,58),COLORBLACK;
DEA:EMA(DIFF,50),COLORYELLOW;
DEA1:EMA(DIFF1,88),COLORYELLOW;
MACD:2*(DIFF-DEA)*100 ;
MACD1:2*(DIFF1-DEA1)*100 ;
MAMACD1:MA(MACD1,5),COLORBLACK;
MAMACD:MA(MACD,5),COLORBLACK;
STICKLINE(MACD1<MAMACD1,0,MACD1,1,0),COLORGREEN;
STICKLINE(MACD>MAMACD,MACD1*0.6,0,1,0),COLORYELLOW;
STICKLINE(MACD<0,MAMACD,MACD1,1,0),COLORGREEN;
STICKLINE(MACD1>MAMACD1 AND MACD>MAMACD ,0,MACD1,1,0),COLORRED;
STICKLINE(MACD>MA(MACD,4),MACD,MA(MACD,4),1,0),COLORYELLOW;

# MACD 修改后
```js
DIFF:EMA(CLOSE,8) - EMA(CLOSE,26),COLORBLACK;
DIFF1:EMA(CLOSE,16) - EMA(CLOSE,58),COLORBLACK;
DEA:EMA(DIFF,50),COLORYELLOW;
DEA1:EMA(DIFF1,88),COLORYELLOW;
MACD:2*(DIFF-DEA)*100 ;
MACD1:2*(DIFF1-DEA1)*100 ;
MAMACD1:MA(MACD1,5),COLORBLACK;
MAMACD:MA(MACD,5),COLORBLACK;
STICKLINE(MACD1<MAMACD1,0,MACD1,1,0),COLORGREEN;
STICKLINE(MACD>MAMACD,MACD1*0.6,0,1,0),COLORYELLOW;
STICKLINE(MACD<0,MAMACD,MACD1,1,0),COLORGREEN;
STICKLINE(MACD1>MAMACD1 AND MACD>MAMACD ,0,MACD1,1,0),COLORRED;
STICKLINE(MACD>MA(MACD,4),MACD,MA(MACD,4),1,0),COLORYELLOW;
```

// ymacd1
DIFF:=EMA(CLOSE,8)-EMA(CLOSE,26);
DIFF1:=EMA(CLOSE,16)-EMA(CLOSE,58);
DEA:=EMA(DIFF,50);
DEA1:=EMA(DIFF1,88);
MACD:=2*(DIFF-DEA)*100;
MACD1:=2*(DIFF1-DEA1)*100;
MAMACD1:=MA(MACD1,5);
MAMACD:=MA(MACD,5);
STICKLINE(MACD1<MAMACD1,0,MACD1,1,0),COLORGREEN;
STICKLINE(MACD>MAMACD,MACD1*0.6,0,1,0),COLORYELLOW;
STICKLINE(MACD<0,MAMACD,MACD1,1,0),COLORGREEN;
STICKLINE(MACD1>MAMACD1 AND MACD>MAMACD,0,MACD1,1,0),COLORRED;
STICKLINE(MACD>MA(MACD,4),MACD,MA(MACD,4),1,0),COLORYELLOW;
DIFF,COLORBLACK;
DIFF1,COLORBLACK;
DEA,COLORYELLOW;
DEA1,COLORYELLOW;
MACD,NODRAW;
MACD1,NODRAW;
MAMACD1,COLORBLACK;
MAMACD,COLORBLACK;


# YMACD2
// 通达信MACD多色清晰版
DIFF:EMA(CLOSE,5)-EMA(OSE,13),COLORBLACK;
DIFF1:EMA(CLOSE,10)-EMA(CLOSE,21),COLORBLACK;
DEA:EMA(DIFF,8),COLORYELLOW;
DEA1:EMA(DIFF1,13),COLORYELLOW;
MACD:2*(DIFF-DEA)*100;
MACD1:2*(DIFF1-DEA1)*100;
MAMACD1:MA(MACD1,3);
MAMACD:MA(MACD,3);

// 鲜明多色信号系统
STICKLINE(MACD1>REF(MACD1,1) AND MACD1>MAMACD1,0,MACD1,2,0),COLORRED;        // 红色：强势上涨
STICKLINE(MACD>REF(MACD,1) AND MACD>MAMACD,MACD*0.8,0,2,0),COLORMAGENTA;     // 洋红：主指标走强
STICKLINE(MACD1<REF(MACD1,1) AND MACD1<MAMACD1,0,MACD1,2,0),COLORGREEN;      // 绿色：下跌趋势
STICKLINE(CROSS(DIFF,DEA),0,MACD*1.2,3,0),COLORCYAN;                         // 青色：金叉信号

// 动量加速检测 - 使用更鲜明的颜色
加速信号:=(MACD-REF(MACD,1))-(REF(MACD,1)-REF(MACD,2));
STICKLINE(加速信号>0 AND MACD>0,MACD,MACD*1.1,1,0),COLORWHITE;               // 白色：加速上涨
STICKLINE(加速信号<0 AND MACD<0,MACD,MACD*1.1,1,0),COLORBLUE;                // 蓝色：加速下跌

// 次级信号辅助
STICKLINE(MACD>0 AND MACD1>0 AND MACD>MACD1,0,MACD*0.5,1,0),COLORLIBLUE;     // 浅蓝：双指标共振
STICKLINE(MACD<0 AND MACD1<0 AND MACD<MACD1,0,MACD*0.5,1,0),COLORBROWN;      // 棕色：双指标弱势

DIFF,COLORBLACK,LINETHICK2;
DIFF1,COLORLIGRAY,LINETHICK1;
DEA,COLORYELLOW,LINETHICK2;
DEA1,COLORLIGRAY,LINETHICK1;
MACD,NODRAW;
MACD1,NODRAW;
MAMACD1,COLORGRAY;
MAMACD,COLORGRAY;
```

**颜色配置说明：**

🎨 **主信号颜色**：
- **红色**：MACD1强势上涨
- **洋红色**：主MACD走强
- **绿色**：下跌趋势
- **青色**：金叉买点（加粗显示）

⚡ **动量颜色**：
- **白色**：加速上涨
- **蓝色**：加速下跌
- **浅蓝色**：双指标共振走强
- **棕色**：双指标共振走弱

📊 **线条区分**：
- 主指标：黑色粗线
- 辅助指标：浅灰色细线
- 均线：灰色显示

**信号优先级**：
1. 青色金叉 → 最强买入
2. 红+洋红 → 双重确认
3. 白色加速 → 趋势延续
4. 绿色+蓝色 → 风险警示

这样颜色对比鲜明，不同信号一目了然！